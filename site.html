<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>站点详情</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>站点分类与内容</h1>
  <div id="categories"></div>
  <div id="samples"></div>
  <div id="sitemap"></div> <!-- 新增 sitemap 链接区域 -->

  <script src="main.js"></script>
  <script src="data.js"></script>
  <script>
    // 获取 URL 参数，查找对应的站点数据
    const urlParams = new URLSearchParams(window.location.search);
    const siteName = urlParams.get('site');
    const site = sites.find(s => s.name === siteName);

    window.onload = function() {
      if (site) {
        const categoriesDiv = document.getElementById('categories');
        const samplesDiv = document.getElementById('samples');
        const sitemapDiv = document.getElementById('sitemap');

        // 渲染分类页
        categoriesDiv.innerHTML = '<h2>分类页</h2>';
        site.categories.forEach(category => {
          const categoryLink = document.createElement('a');
          categoryLink.href = category.url;
          categoryLink.textContent = category.title;
          categoryLink.classList.add('category-link');
          categoryLink.target = "_blank";
          categoriesDiv.appendChild(categoryLink);
          categoriesDiv.appendChild(document.createElement('br'));
        });

        // 渲染随机样本页
        samplesDiv.innerHTML = '<h2>样本内容页</h2>';
        const samples = genSamples(site, 3);  // 每站随机 3 个样本
        samples.forEach(url => {
          const sampleLink = document.createElement('a');
          sampleLink.href = url;
          sampleLink.textContent = url;
          sampleLink.classList.add('sample-link');
          sampleLink.target = "_blank";
          samplesDiv.appendChild(sampleLink);
          samplesDiv.appendChild(document.createElement('br'));
        });

        // 渲染 Sitemap 链接
        if (site.sitemap) {
          sitemapDiv.innerHTML = `<h2>Sitemap</h2>
                                  <a href="${site.sitemap}" target="_blank">查看 Sitemap</a>`;
        }
      } else {
        document.body.innerHTML = "<p>未找到站点信息。</p>";
      }
    };
  </script>
</body>
</html>
